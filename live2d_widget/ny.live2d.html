<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Live2d Test Env</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
    <script type="text/javascript">
        const api_path    = "https://yuanjiuzheng.com/live2d_api/"
        const cdn_path    = "https://cdn.jsdelivr.net/gh/Yerannnnnn/Yerannnnnn.github.io@master/live2d_api/"
        function loadExternalResource(url, type) {
            return new Promise((resolve, reject) => {
                let tag;

                if (type === "css") {
                    tag = document.createElement("link");
                    tag.rel = "stylesheet";
                    tag.href = url;
                }
                else if (type === "js") {
                    tag = document.createElement("script");
                    tag.src = url;
                }
                else if (type === "jsmodule") {
                    tag = document.createElement("script");
                    tag.type = "module";
                    tag.src = url;
                }
                if (tag) {
                    tag.onload = () => resolve(url);
                    tag.onerror = () => reject(url);
                    document.head.appendChild(tag);
                }
            });
        }
            Promise.all([
                loadExternalResource( "//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css", "css"),
                loadExternalResource( "./ny.live2d.css", "css"),
                loadExternalResource( "./ny.live2d.js", "js"),
            ]).then(() => {
                initWidget({
                    waifuPath: "./ny.live2d-tips.json",
                    apiPath: api_path,
                    cdnPath: cdn_path,
                });
            });
        // loadlive2d("live2d", "../live2d_api/model/mengxiang/snow_miku/index.json", 0.5);
        // loadlive2d("live2d", "https://yuanjiuzheng.com/live2d_api/get/?id=4-20", 0.5);
    </script>
</body>
</html>
