"use strict";function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,i){for(var n=0;n<i.length;n++){var t=i[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,i,n){return i&&_defineProperties(e.prototype,i),n&&_defineProperties(e,n),e}var __ny_view,Viewer=function(){function n(){_classCallCheck(this,n),this.cdnPath="//cdn.jsdelivr.net/gh/Yerannnnnn/Yerannnnnn.github.io@master/live2d_api/model/",this.apiPath="https://yuanjiuzheng.com/live2d_api/get/?id=",this.charData={"mengxiang/sagiri":this.apiPath+"01-0","mengxiang/snow_miku":this.apiPath+"02-0","mengxiang/chino":this.apiPath+"03-0","Potion-Maker/Pio":this.apiPath+"04-20","Potion-Maker/Tia":this.apiPath+"05-0","HyperdimensionNeptunia/histoirenohover":this.apiPath+"06-1","HyperdimensionNeptunia/noireswim":this.apiPath+"06-2","HyperdimensionNeptunia/nepswim":this.apiPath+"06-3","HyperdimensionNeptunia/noir":this.apiPath+"06-4","HyperdimensionNeptunia/noir_santa":this.apiPath+"06-5","HyperdimensionNeptunia/blanc_normal":this.apiPath+"06-6","HyperdimensionNeptunia/blanc_swimwear":this.apiPath+"06-7","HyperdimensionNeptunia/vert_classic":this.apiPath+"06-8","HyperdimensionNeptunia/vert_normal":this.apiPath+"06-9","HyperdimensionNeptunia/vert_swimwear":this.apiPath+"06-10","HyperdimensionNeptunia/nepgear_extra":this.apiPath+"06-11","HyperdimensionNeptunia/nepgearswim":this.apiPath+"06-12","HyperdimensionNeptunia/histoire":this.apiPath+"06-13","mengxiang/bronya":this.apiPath+"07-0"},this.canvas=document.getElementById("waifuViewer"),this.loading=document.getElementById("nywaifuloading"),this.waifulist=document.getElementsByClassName("waifulist")[0],this.moduleConfig=this.charData["mengxiang/sagiri"];var e=document.getElementById("waifu");for(var i in null!=e&&(localStorage.setItem("waifu-display",Date.now()),e.style.bottom="-500px",setTimeout(function(){document.getElementById("waifu").style.display="none",document.getElementById("waifu-toggle").classList.add("waifu-toggle-active")},0)),this.charData)this.htmlInsert("waifulist",i,"button");this.loadwaifu()}return _createClass(n,[{key:"loadwaifu",value:function(){var e=this;this.loading&&(this.loading.className="nywaifuloading fadein"),setTimeout(function(){loadlive2d({canvasId:"waifuViewer",configPath:e.moduleConfig,modelPath:e.cdnPath,headPos:.5,callback:function(){e.loading&&(e.loading.className="nywaifuloading"),console.log("嘻嘻 我来啦~")}})},1)}},{key:"htmlInsert",value:function(e,i,n){var t=document.createElement(n),a=i.substring(i.lastIndexOf("/")+1);this.charData[i];t.setAttribute("class","nybtn"),t.setAttribute("value",this.charData[i]),t.setAttribute("onclick","__ny_view.btn_click()");var s=document.createElement("span");s.appendChild(document.createTextNode(a.substring(0,9))),s.setAttribute("onclick",null),t.appendChild(s),document.getElementsByClassName(e)[0].appendChild(t)}},{key:"htmlPushBack",value:function(e){document.body.insertAdjacentHTML("beforeend",e)}},{key:"btn_click",value:function(){this.moduleConfig=event.currentTarget.value,this.loadwaifu()}}]),n}();setTimeout(function(){window.loadlive2d?__ny_view=new Viewer:new Promise(function(e,i){var n=document.createElement("script"),t="//cdn.jsdelivr.net/gh/Yerannnnnn/Yerannnnnn.github.io@master/live2d_widget/ny.waifu.js";n.src=t,n.onload=function(){return e(t)},n.onerror=function(){return i(t)},document.head.appendChild(n)}).then(function(){__ny_view=new Viewer})},0);