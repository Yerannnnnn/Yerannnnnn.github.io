"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var a=0;a<n.length;a++){var i=n[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,n,a){return n&&_defineProperties(e.prototype,n),a&&_defineProperties(e,a),e}var view,cdnPath="//cdn.jsdelivr.net/gh/Yerannnnnn/Yerannnnnn.github.io@master/live2d_api/model/",apiPath="https://yuanjiuzheng.com/live2d_api/get/?id=",charData={"mengxiang/sagiri":apiPath+"01-0","mengxiang/snow_miku":apiPath+"02-0","mengxiang/chino":apiPath+"03-0","Potion-Maker/Pio":apiPath+"04-20","Potion-Maker/Tia":apiPath+"05-0","HyperdimensionNeptunia/histoirenohover":apiPath+"06-1","HyperdimensionNeptunia/noireswim":apiPath+"06-2","HyperdimensionNeptunia/nepswim":apiPath+"06-3","HyperdimensionNeptunia/noir":apiPath+"06-4","HyperdimensionNeptunia/noir_santa":apiPath+"06-5","HyperdimensionNeptunia/blanc_normal":apiPath+"06-6","HyperdimensionNeptunia/blanc_swimwear":apiPath+"06-7","HyperdimensionNeptunia/vert_classic":apiPath+"06-8","HyperdimensionNeptunia/vert_normal":apiPath+"06-9","HyperdimensionNeptunia/vert_swimwear":apiPath+"06-10","HyperdimensionNeptunia/nepgear_extra":apiPath+"06-11","HyperdimensionNeptunia/nepgearswim":apiPath+"06-12","HyperdimensionNeptunia/histoire":apiPath+"06-13","mengxiang/bronya":apiPath+"07-0"},Viewer=function(){function i(e){_classCallCheck(this,i),this.canvas=document.getElementById("waifuViewer"),this.loading=document.getElementById("nywaifuloading"),this.waifulist=document.getElementsByClassName("waifulist")[0],this.moduleConfig=charData["mengxiang/sagiri"];var n=document.getElementById("waifu");for(var a in null!=n&&(localStorage.setItem("waifu-display",Date.now()),n.style.bottom="-500px",setTimeout(function(){document.getElementById("waifu").style.display="none",document.getElementById("waifu-toggle").classList.add("waifu-toggle-active")},1e3)),charData)this.htmlInsert("waifulist",a,"button");this.loadwaifu()}return _createClass(i,[{key:"loadwaifu",value:function(){var e=this;this.loading&&(this.loading.className="nywaifuloading fadein"),loadlive2d({canvasId:"waifuViewer",configPath:this.moduleConfig,modelPath:cdnPath,headPos:.5,callback:function(){e.loading&&(e.loading.className="nywaifuloading"),console.log("嘻嘻 我来啦！")}})}},{key:"htmlInsert",value:function(e,n,a){var i=document.createElement(a),t=n.substring(n.lastIndexOf("/")+1);charData[n];i.setAttribute("class","nybtn"),i.setAttribute("value",charData[n]),i.setAttribute("onclick","view.btn_click()");var o=document.createElement("span");o.appendChild(document.createTextNode(t.substring(0,9))),o.setAttribute("onclick",null),i.appendChild(o),document.getElementsByClassName(e)[0].appendChild(i)}},{key:"htmlPushBack",value:function(e){document.body.insertAdjacentHTML("beforeend",e)}},{key:"btn_click",value:function(){this.moduleConfig=event.currentTarget.value,this.loadwaifu()}}]),i}();setTimeout(function(){var e=document.getElementById("nywaifujs");e&&(e.onload=function(){window.loadlive2d?(console.log("has loadlive2d"),view=new Viewer(cdnPath)):(console.log("no loadlive2d"),new Promise(function(e,n){var a=document.createElement("script"),i="/live2d_widget/ny.waifu.js";a.src=i,a.onload=function(){return e(i)},a.onerror=function(){return n(i)},document.head.appendChild(a)}).then(function(){view=new Viewer(cdnPath)}))})},0);